"""
Diagrama ASCII da Clean Architecture
"""

CLEAN_ARCHITECTURE_DIAGRAM = """
╔══════════════════════════════════════════════════════════════════════════╗
║                         CLEAN ARCHITECTURE                               ║
║                          PetroBahia System                               ║
╚══════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────┐
│                         PRESENTATION LAYER                               │
│  ┌────────────────────┐              ┌────────────────────┐             │
│  │ ClienteController  │              │  PedidoController  │             │
│  │                    │              │                    │             │
│  │ - cadastrar()      │              │ - processar()      │             │
│  └─────────┬──────────┘              └─────────┬──────────┘             │
└────────────┼─────────────────────────────────── ┼──────────────────────┘
             │                                     │
             │ DTOs                                │ DTOs
             ▼                                     ▼
┌──────────────────────────────────────────────────────────────────────────┐
│                        APPLICATION LAYER                                 │
│  ┌──────────────────────────┐     ┌─────────────────────────────┐       │
│  │ CadastrarClienteUseCase  │     │ ProcessarPedidoUseCase      │       │
│  │                          │     │                             │       │
│  │ + execute(dto)           │     │ + execute(dto)              │       │
│  └──────────┬───────────────┘     └──────────┬──────────────────┘       │
└─────────────┼─────────────────────────────────┼──────────────────────────┘
              │                                  │
              │ Interfaces                       │ Interfaces
              ▼                                  ▼
┌──────────────────────────────────────────────────────────────────────────┐
│                           DOMAIN LAYER                                   │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                         ENTITIES                                │    │
│  │  ┌────────────┐                ┌────────────┐                  │    │
│  │  │  Cliente   │                │   Pedido   │                  │    │
│  │  ├────────────┤                ├────────────┤                  │    │
│  │  │ - nome     │                │ - cliente  │                  │    │
│  │  │ - email    │                │ - produto  │                  │    │
│  │  │ - cnpj     │                │ - qtd      │                  │    │
│  │  │ + validar()│                │ - cupom    │                  │    │
│  │  └────────────┘                └────────────┘                  │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                                                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      VALUE OBJECTS                              │    │
│  │  ┌──────────────┐         ┌──────────────┐                     │    │
│  │  │ ProdutoTipo  │         │  CupomTipo   │                     │    │
│  │  ├──────────────┤         ├──────────────┤                     │    │
│  │  │ - DIESEL     │         │ - MEGA10     │                     │    │
│  │  │ - GASOLINA   │         │ - NOVO5      │                     │    │
│  │  │ - ETANOL     │         │ - LUB2       │                     │    │
│  │  │ - LUBRIF...  │         └──────────────┘                     │    │
│  │  └──────────────┘                                              │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                                                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                        INTERFACES                               │    │
│  │  ┌───────────────────────────┐  ┌──────────────────────────┐   │    │
│  │  │ClienteRepositoryInterface │  │NotificationServiceInterface│  │    │
│  │  ├───────────────────────────┤  ├──────────────────────────┤   │    │
│  │  │+ salvar(cliente)          │  │+ enviar_boas_vindas()    │   │    │
│  │  │+ buscar_por_email(email)  │  └──────────────────────────┘   │    │
│  │  └───────────────────────────┘                                 │    │
│  │                                                                 │    │
│  │  ┌────────────────────────────┐  ┌───────────────────────┐    │    │
│  │  │ CalculoPrecoServiceInterface│  │DescontoServiceInterface│   │    │
│  │  ├────────────────────────────┤  ├───────────────────────┤    │    │
│  │  │+ calcular(produto, qtd)    │  │+ aplicar_desconto()   │    │    │
│  │  └────────────────────────────┘  └───────────────────────┘    │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└──────────────────────────────────────────────────────────────────────────┘
              ▲                                  ▲
              │ Implements                       │ Implements
              │                                  │
┌──────────────────────────────────────────────────────────────────────────┐
│                      INFRASTRUCTURE LAYER                                │
│                                                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      PERSISTENCE                                │    │
│  │  ┌──────────────────────────┐                                   │    │
│  │  │ ClienteFileRepository    │  implements ClienteRepositoryIF  │    │
│  │  ├──────────────────────────┤                                   │    │
│  │  │ - filepath               │                                   │    │
│  │  │ + salvar(cliente)        │  Salva em arquivo                │    │
│  │  │ + buscar_por_email()     │                                   │    │
│  │  └──────────────────────────┘                                   │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                                                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      NOTIFICATION                               │    │
│  │  ┌──────────────────────────┐                                   │    │
│  │  │PrintNotificationService  │  implements NotificationServiceIF│    │
│  │  ├──────────────────────────┤                                   │    │
│  │  │+ enviar_boas_vindas()    │  Envia via console               │    │
│  │  └──────────────────────────┘                                   │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                                                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                        SERVICES                                 │    │
│  │  ┌──────────────────────────┐  ┌──────────────────────────┐    │    │
│  │  │ CalculoPrecoService      │  │ DescontoService          │    │    │
│  │  ├──────────────────────────┤  ├──────────────────────────┤    │    │
│  │  │+ calcular()              │  │+ aplicar_desconto()      │    │    │
│  │  └──────────────────────────┘  └──────────────────────────┘    │    │
│  │                                                                 │    │
│  │  ┌──────────────────────────┐                                  │    │
│  │  │ ArredondamentoService    │                                  │    │
│  │  ├──────────────────────────┤                                  │    │
│  │  │+ arredondar()            │                                  │    │
│  │  └──────────────────────────┘                                  │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└──────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────┐
│                    DEPENDENCY INJECTION                                  │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      Container (DI)                             │    │
│  │  ┌──────────────────────────────────────────────────┐           │    │
│  │  │ COMPOSITION ROOT                                 │           │    │
│  │  │                                                  │           │    │
│  │  │ + get_cliente_repository()                       │           │    │
│  │  │ + get_notification_service()                     │           │    │
│  │  │ + get_calculo_preco_service()                    │           │    │
│  │  │ + get_desconto_service()                         │           │    │
│  │  │ + get_cadastrar_cliente_use_case()               │           │    │
│  │  │ + get_processar_pedido_use_case()                │           │    │
│  │  │ + get_cliente_controller()                       │           │    │
│  │  │ + get_pedido_controller()                        │           │    │
│  │  │                                                  │           │    │
│  │  │ Cria e injeta TODAS as dependências             │           │    │
│  │  └──────────────────────────────────────────────────┘           │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└──────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════
                          REGRA DE DEPENDÊNCIA
═══════════════════════════════════════════════════════════════════════════

           As dependências sempre apontam PARA DENTRO:

    Presentation  ──────────┐
                            │
    Infrastructure ─────┐   │
                        ▼   ▼
    Application  ───────────> DOMAIN (núcleo)
                        ▲
                        │
    DI Container ───────┘

    O DOMAIN não conhece nenhuma outra camada!
    O DOMAIN define as INTERFACES (contratos)
    As outras camadas IMPLEMENTAM as interfaces

═══════════════════════════════════════════════════════════════════════════
"""

if __name__ == "__main__":
    print(CLEAN_ARCHITECTURE_DIAGRAM)
